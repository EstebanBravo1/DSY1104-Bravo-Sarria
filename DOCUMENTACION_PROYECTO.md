# üìö Documentaci√≥n Completa - Huerto Hogar

## üöÄ Descripci√≥n General del Proyecto

**Huerto Hogar** es una aplicaci√≥n web de e-commerce desarrollada en React.js que permite a los usuarios navegar, filtrar y comprar productos org√°nicos y saludables. El proyecto incluye un sistema de autenticaci√≥n completo, carrito de compras, proceso de checkout integrado con Transbank, y un dise√±o completamente responsive.

---

## üèóÔ∏è Arquitectura del Proyecto

```
DSY1104-Bravo-Sarria/
‚îú‚îÄ‚îÄ public/                     # Archivos est√°ticos
‚îÇ   ‚îî‚îÄ‚îÄ assets/                 # Im√°genes y recursos p√∫blicos
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/             # Componentes reutilizables
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ checkout/          # Componentes del proceso de pago
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header.jsx         # Navegaci√≥n principal
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Footer.jsx         # Pie de p√°gina
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SearchBar.jsx      # Barra de b√∫squeda
‚îÇ   ‚îú‚îÄ‚îÄ context/               # Contextos de React (Estado global)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthContext.jsx    # Autenticaci√≥n de usuarios
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CartContext.jsx    # Carrito de compras
‚îÇ   ‚îú‚îÄ‚îÄ data/                  # Datos y configuraciones
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ product.js         # Base de datos de productos
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ usuarios.js        # Base de datos de usuarios
‚îÇ   ‚îú‚îÄ‚îÄ hooks/                 # Custom hooks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useCart.js         # Hook para manejo del carrito
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useRelatedCart.js  # Hook para productos relacionados
‚îÇ   ‚îú‚îÄ‚îÄ loaders/               # Cargadores de datos para React Router
‚îÇ   ‚îú‚îÄ‚îÄ pages/                 # P√°ginas principales
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/              # P√°ginas de autenticaci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Home/              # P√°gina principal
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ productos/         # P√°ginas de productos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ carrito/           # P√°gina del carrito
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ contacto/          # P√°gina de contacto
‚îÇ   ‚îú‚îÄ‚îÄ services/              # Servicios externos
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ transbank.js       # Integraci√≥n con Transbank
‚îÇ   ‚îú‚îÄ‚îÄ test/                  # Tests unitarios
‚îÇ   ‚îú‚îÄ‚îÄ main.jsx               # Punto de entrada de la aplicaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ routes.jsx             # Configuraci√≥n de rutas
‚îÇ   ‚îî‚îÄ‚îÄ styles.css             # Estilos globales
‚îú‚îÄ‚îÄ package.json               # Dependencias y scripts
‚îú‚îÄ‚îÄ vite.config.js            # Configuraci√≥n de Vite
‚îî‚îÄ‚îÄ README.md                 # Documentaci√≥n b√°sica
```

---

## üîß Tecnolog√≠as Utilizadas

### **Frontend**
- **React.js 19.1.1**: Framework principal
- **React Router DOM**: Navegaci√≥n y rutas
- **React Bootstrap**: Componentes UI responsivos
- **Vite**: Build tool y servidor de desarrollo

### **Estilos**
- **CSS3**: Estilos personalizados
- **Bootstrap**: Framework CSS
- **Responsive Design**: Mobile-first approach

### **Estado y Datos**
- **React Context API**: Manejo de estado global
- **localStorage**: Persistencia de datos
- **JSON**: Base de datos simulada

### **Testing**
- **Jasmine**: Framework de testing
- **Karma**: Test runner

---

## üìÅ An√°lisis Detallado por Archivo

### üîê **1. Sistema de Autenticaci√≥n**

#### `src/context/AuthContext.jsx`
```javascript
// Contexto principal de autenticaci√≥n
const AuthContext = createContext();

export const AuthProvider = ({ children }) => {
    const [user, setUser] = useState(null);
    const [isAuthenticated, setIsAuthenticated] = useState(false);

    // Funciones principales:
    // - login(): Valida credenciales y autentica usuario
    // - logout(): Cierra sesi√≥n y limpia datos
    // - getDatosCheckout(): Retorna datos para autocompletado
    // - Persistencia con localStorage
};
```

**Funcionalidades:**
- ‚úÖ Autenticaci√≥n de usuarios con validaci√≥n
- ‚úÖ Persistencia de sesi√≥n en localStorage
- ‚úÖ Autocompletado de datos en checkout
- ‚úÖ Estado global accesible en toda la app

#### `src/data/usuarios.js`
```javascript
// Base de datos de usuarios predefinidos
export const usuarios = [
    {
        email: "juan.perez@email.com",
        password: "123456",
        nombre: "Juan",
        apellido: "P√©rez",
        telefono: "+56 9 1234 5678",
        direccion: {
            calle: "Av. Libertador Bernardo O'Higgins",
            numero: "1234",
            comuna: "Santiago Centro",
            ciudad: "Santiago",
            codigoPostal: "8320000"
        }
    },
    // ... 4 usuarios m√°s
];

// Funciones de validaci√≥n:
// - validarCredenciales(): Verifica email y contrase√±a
// - buscarUsuarioPorEmail(): Encuentra usuario espec√≠fico
```

**Caracter√≠sticas:**
- üéØ 5 usuarios de prueba con datos completos
- üìç Direcciones reales para testing
- üîí Validaci√≥n de credenciales
- üöÄ Integraci√≥n directa con checkout

#### `src/pages/auth/Login.jsx`
```javascript
// P√°gina de inicio de sesi√≥n
const Login = () => {
    const [formData, setFormData] = useState({
        email: '',
        password: ''
    });
    const { login } = useAuth();

    const handleSubmit = async (e) => {
        e.preventDefault();
        // Valida credenciales usando AuthContext
        // Redirige en caso de √©xito
        // Muestra errores en caso de fallo
    };
};
```

**Funcionalidades:**
- üìù Formulario con validaci√≥n
- üîÑ Integraci√≥n con AuthContext
- üö® Manejo de errores
- üîÄ Redirecci√≥n autom√°tica

---

### üõí **2. Sistema de Carrito**

#### `src/context/CartContext.jsx`
```javascript
// Contexto del carrito de compras
const CartContext = createContext();

export const CartProvider = ({ children }) => {
    const [cart, setCart] = useState([]);

    // Funciones principales:
    // - addToCart(): Agrega productos al carrito
    // - removeFromCart(): Elimina productos
    // - updateQuantity(): Actualiza cantidades
    // - clearCart(): Vac√≠a el carrito
    // - getCartTotal(): Calcula total
    // - getCartCount(): Cuenta productos
};
```

**Caracter√≠sticas:**
- ‚ûï Agregar/eliminar productos
- üìä C√°lculo autom√°tico de totales
- üíæ Persistencia en localStorage
- üî¢ Manejo de cantidades

#### `src/hooks/useCart.js`
```javascript
// Custom hook para operaciones del carrito
export const useCart = () => {
    const context = useContext(CartContext);
    
    if (!context) {
        throw new Error('useCart debe usarse dentro de CartProvider');
    }
    
    return context;
};
```

**Prop√≥sito:**
- üîß Abstrae la l√≥gica del carrito
- ‚úÖ Validaci√≥n de contexto
- üéØ Interfaz simple para componentes

---

### üõçÔ∏è **3. Sistema de Productos**

#### `src/data/product.js`
```javascript
// Base de datos de productos
export const products = [
    {
        codigo: "FR001",
        nombre: "Manzanas Fuji Premium",
        categoria: "FR", // FR: Frutas, VR: Verduras, etc.
        precio: 2990,
        stock: 50,
        descripcion: "Manzanas Fuji de primera calidad...",
        origen: "Valle del Aconcagua, Chile",
        imagen: "imagenes/Manzana-Fuji-granel.png",
        destacado: true
    },
    // ... m√°s productos
];
```

**Estructura de datos:**
- üè∑Ô∏è C√≥digo √∫nico por producto
- üìÇ Categorizaci√≥n por tipo
- üí∞ Precios en pesos chilenos
- üì¶ Control de stock
- üñºÔ∏è Im√°genes asociadas

#### `src/pages/productos/Productos.jsx`
```javascript
// P√°gina principal de productos
const Productos = () => {
    const { productos } = useLoaderData(); // Datos cargados por React Router
    const { addToCart } = useCart();
    const [filtroActivo, setFiltroActivo] = useState('all');

    // L√≥gica de filtrado
    const productosFiltrados = filtroActivo === 'all'
        ? productos
        : productos.filter(p => p.categoria === filtroActivo);

    return (
        <Container>
            {/* Filtros responsive con React Bootstrap */}
            {/* Grid de productos con Cards */}
        </Container>
    );
};
```

**Funcionalidades:**
- üîç Filtrado por categor√≠as
- üì± Dise√±o responsive con Bootstrap
- üÉè Cards de producto con hover effects
- ‚ûï Integraci√≥n con carrito

#### `src/pages/productos/Productos.css`
```css
/* Estilos principales para productos */

/* Grid responsive */
.products__content {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    justify-content: center;
    place-items: center;
}

/* Cards de producto */
.product-card {
    max-width: 320px;
    margin: 0 auto;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

/* Filtros responsivos */
.filters-responsive {
    display: flex;
    justify-content: center;
    align-items: center;
}

/* Media queries para diferentes pantallas */
@media screen and (min-width: 1024px) {
    .product-card { max-width: 350px; }
}

@media screen and (min-width: 1440px) {
    .product-card { max-width: 380px; }
}
```

**Caracter√≠sticas CSS:**
- üìê Grid responsive con auto-fit
- üé® Hover effects en cards
- üì± Mobile-first design
- üîß Flexbox para centrado perfecto

---

### üí≥ **4. Sistema de Checkout**

#### `src/components/checkout/CheckoutForm.jsx`
```javascript
// Formulario principal de checkout
const CheckoutForm = () => {
    const { user, getDatosCheckout } = useAuth();
    const { cart, getCartTotal, clearCart } = useCart();
    const [formData, setFormData] = useState({
        // Datos del cliente
        // Datos de env√≠o
        // M√©todo de pago
    });

    // Autocompletado si usuario autenticado
    useEffect(() => {
        if (user) {
            const datosUsuario = getDatosCheckout();
            setFormData(prev => ({ ...prev, ...datosUsuario }));
        }
    }, [user]);

    const handleSubmit = async (e) => {
        // Validaci√≥n de formulario
        // Integraci√≥n con Transbank
        // Redirecci√≥n a p√°gina de √©xito
    };
};
```

**Funcionalidades:**
- üîÑ Autocompletado para usuarios autenticados
- ‚úÖ Validaci√≥n completa del formulario
- üí≥ Integraci√≥n con Transbank
- üöÄ Experiencia de usuario optimizada

#### `src/services/transbank.js`
```javascript
// Simulaci√≥n de integraci√≥n con Transbank
export const procesarPagoTransbank = async (datosCompra) => {
    // Simula validaci√≥n de tarjeta
    // Genera n√∫mero de transacci√≥n
    // Retorna resultado del pago
    
    return {
        exito: true,
        numeroTransaccion: generateTransactionId(),
        codigoAutorizacion: generateAuthCode(),
        fechaTransaccion: new Date().toISOString()
    };
};
```

**Caracter√≠sticas:**
- üîê Simulaci√≥n realista de pago
- üìä Generaci√≥n de datos de transacci√≥n
- ‚úÖ Manejo de respuestas exitosas/fallidas

---

### üß≠ **5. Sistema de Navegaci√≥n**

#### `src/routes.jsx`
```javascript
// Configuraci√≥n de rutas con React Router
export const router = createBrowserRouter([
    {
        path: "/",
        element: <Root />,
        errorElement: <ErrorPage />,
        children: [
            {
                index: true,
                element: <Home />,
            },
            {
                path: "productos",
                element: <Productos />,
                loader: productosLoader, // Carga datos antes de renderizar
            },
            {
                path: "productos/:codigo",
                element: <DetalleProducto />,
                loader: detalleProductoLoader,
            },
            // ... m√°s rutas
        ],
    },
]);
```

**Caracter√≠sticas:**
- üîÑ Lazy loading de datos
- üö® Manejo de errores
- üì± Rutas anidadas
- ‚ö° Optimizaci√≥n de carga

#### `src/components/Header.jsx`
```javascript
// Navegaci√≥n principal responsive
const Header = () => {
    const { user, logout } = useAuth();
    const { getCartCount } = useCart();
    const [expanded, setExpanded] = useState(false);

    const closeNavbar = () => setExpanded(false);

    return (
        <Navbar expand="lg" expanded={expanded} onToggle={setExpanded}>
            {/* Logo y marca */}
            {/* Toggle para m√≥vil */}
            {/* Men√∫ de navegaci√≥n */}
            {/* Carrito e informaci√≥n de usuario */}
        </Navbar>
    );
};
```

**Funcionalidades:**
- üì± Menu hamburguesa controlado
- üõí Contador de carrito en tiempo real
- üë§ Estado de autenticaci√≥n
- üîÑ Navegaci√≥n responsive

---

### üé® **6. Sistema de Estilos**

#### `src/styles.css`
```css
/* Estilos globales del proyecto */

/* Variables CSS personalizadas */
:root {
    --first-color: hsl(120, 60%, 40%);
    --first-color-alt: hsl(120, 60%, 35%);
    --white-color: #fff;
    --title-color: hsl(0, 0%, 15%);
    --text-color: hsl(0, 0%, 35%);
    --home-color1: #28a745;
    --home-color2: #20c997;
}

/* Tipograf√≠a */
--h1-font-size: 2.5rem;
--h2-font-size: 2rem;
--normal-font-size: 1rem;
--small-font-size: 0.875rem;

/* Utilidades de layout */
.container { max-width: 1120px; margin: 0 auto; }
.grid { display: grid; }
.section { padding: 4rem 0; }
```

**Organizaci√≥n:**
- üé® Sistema de colores coherente
- üìè Tipograf√≠a escalable
- üìê Layout utilities
- üîß Variables CSS reutilizables

---

### üß™ **7. Sistema de Testing**

#### `src/test/proyecto.test.js`
```javascript
// Tests unitarios del proyecto
describe('Sistema de Autenticaci√≥n', () => {
    it('deber√≠a validar credenciales correctas', () => {
        const resultado = validarCredenciales('juan.perez@email.com', '123456');
        expect(resultado.valido).toBe(true);
    });

    it('deber√≠a rechazar credenciales incorrectas', () => {
        const resultado = validarCredenciales('email@falso.com', 'wrongpass');
        expect(resultado.valido).toBe(false);
    });
});

describe('Sistema de Carrito', () => {
    // Tests para operaciones del carrito
});
```

**Cobertura:**
- ‚úÖ Autenticaci√≥n de usuarios
- ‚úÖ Operaciones del carrito
- ‚úÖ Validaci√≥n de formularios
- ‚úÖ C√°lculos de precios

---

## üöÄ **Flujo de la Aplicaci√≥n**

### **1. Inicio de la App**
```
main.jsx ‚Üí routes.jsx ‚Üí Root ‚Üí Header/Footer/Pages
```

### **2. Autenticaci√≥n**
```
Login.jsx ‚Üí AuthContext ‚Üí validarCredenciales() ‚Üí localStorage ‚Üí Redirecci√≥n
```

### **3. Navegaci√≥n de Productos**
```
Productos.jsx ‚Üí productosLoader ‚Üí Filtros ‚Üí Cards ‚Üí DetalleProducto
```

### **4. Carrito**
```
addToCart() ‚Üí CartContext ‚Üí localStorage ‚Üí Carrito.jsx ‚Üí Checkout
```

### **5. Proceso de Pago**
```
CheckoutForm ‚Üí Autocompletado ‚Üí Validaci√≥n ‚Üí Transbank ‚Üí √âxito
```

---

## ‚öôÔ∏è **Comandos de Desarrollo**

```bash
# Instalar dependencias
npm install

# Ejecutar en desarrollo
npm run dev

# Construir para producci√≥n
npm run build

# Ejecutar tests
npm test

# Preview de producci√≥n
npm run preview
```

---

## üîß **Configuraci√≥n del Proyecto**

### **package.json - Dependencias principales**
```json
{
  "dependencies": {
    "react": "^19.1.1",
    "react-dom": "^19.1.1",
    "react-router-dom": "^7.1.1",
    "react-bootstrap": "^2.10.6",
    "bootstrap": "^5.3.3"
  },
  "devDependencies": {
    "@vitejs/plugin-react": "^4.3.4",
    "vite": "^6.0.3"
  }
}
```

### **vite.config.js - Configuraci√≥n de build**
```javascript
export default defineConfig({
  plugins: [react()],
  optimizeDeps: {
    include: ['react', 'react-dom']
  }
});
```

---

## üì± **Responsive Design**

### **Breakpoints utilizados:**
- üì± **M√≥vil**: < 480px
- üì≤ **Tablet**: 481px - 768px  
- üíª **Desktop**: 769px - 1024px
- üñ•Ô∏è **Large**: 1025px - 1200px
- üñ•Ô∏è **XL**: > 1200px
- üñ•Ô∏è **XXL**: > 1440px

### **Estrategia Mobile-First:**
```css
/* Base styles (mobile) */
.product-card { max-width: 320px; }

/* Tablet */
@media (min-width: 768px) {
    .product-card { max-width: 300px; }
}

/* Desktop */
@media (min-width: 1024px) {
    .product-card { max-width: 350px; }
}

/* Large screens */
@media (min-width: 1440px) {
    .product-card { max-width: 380px; }
}
```

---

## üîê **Seguridad y Mejores Pr√°cticas**

### **Autenticaci√≥n:**
- ‚úÖ Validaci√≥n en frontend y simulaci√≥n de backend
- ‚úÖ Sanitizaci√≥n de inputs
- ‚úÖ Manejo seguro de localStorage
- ‚úÖ Timeouts de sesi√≥n

### **Performance:**
- ‚úÖ Lazy loading de componentes
- ‚úÖ Optimizaci√≥n de im√°genes
- ‚úÖ Memoizaci√≥n de c√°lculos
- ‚úÖ Code splitting autom√°tico

### **Accesibilidad:**
- ‚úÖ Semantic HTML
- ‚úÖ ARIA labels
- ‚úÖ Keyboard navigation
- ‚úÖ Alt texts en im√°genes

---

## üêõ **Debugging y Logs**

### **Errores comunes y soluciones:**

1. **Error de contexto no encontrado:**
```javascript
// Asegurar que el componente est√© envuelto en el Provider
if (!context) {
    throw new Error('useAuth debe usarse dentro de AuthProvider');
}
```

2. **Problema de persistencia:**
```javascript
// Verificar localStorage
try {
    const userData = JSON.parse(localStorage.getItem('user'));
} catch (error) {
    console.error('Error parsing user data:', error);
}
```

3. **Rutas no encontradas:**
```javascript
// Verificar configuraci√≥n en routes.jsx
{
    path: "*",
    element: <ErrorPage />
}
```

---

## üöÄ **Optimizaciones Implementadas**

### **Performance:**
- ‚ö° Vite para build ultra-r√°pido
- üì¶ Code splitting autom√°tico
- üîÑ Lazy loading de rutas
- üíæ Cach√© de im√°genes

### **UX/UI:**
- üé® Transiciones suaves
- üì± Responsive perfecto
- üîÑ Loading states
- ‚úÖ Feedback inmediato

### **SEO:**
- üìù Meta tags optimizados
- üè∑Ô∏è Semantic HTML
- üñºÔ∏è Alt texts descriptivos
- üìä Structured data ready

---

## üìà **M√©tricas y Analytics Ready**

El proyecto est√° preparado para integrar:
- üìä Google Analytics
- üî• Firebase Analytics  
- üì± User behavior tracking
- üõí E-commerce events

---

## üîÆ **Futuras Mejoras Sugeridas**

### **Backend Real:**
- üóÑÔ∏è Base de datos PostgreSQL/MongoDB
- üîê JWT Authentication
- üìß Sistema de emails
- üí≥ Transbank real

### **Funcionalidades:**
- üîç B√∫squeda avanzada
- ‚≠ê Sistema de reviews
- üì¶ Tracking de pedidos
- üéÅ Sistema de cupones

### **Performance:**
- üñºÔ∏è Lazy loading de im√°genes
- üì± PWA capabilities
- üîÑ Offline support
- üìä Analytics integrados

---

¬°Esta documentaci√≥n cubre todo el funcionamiento del proyecto Huerto Hogar! üå±üè†‚ú®